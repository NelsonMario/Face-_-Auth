{"ast":null,"code":"import _classCallCheck from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import firebase from'../firebase.js';import Cookies from'universal-cookie';import styles from'../styles/recaptcha.module.css';var Message=/*#__PURE__*/function(_Component){_inherits(Message,_Component);var _super=_createSuper(Message);function Message(){var _this;_classCallCheck(this,Message);_this=_super.call(this);_this.state={message:'Welcome Visitor'};return _this;}_createClass(Message,[{key:\"storeToken\",value:function storeToken(token){var cookies=new Cookies();cookies.set('authtoken',token,{path:'/',expires:new Date(Date.now()+2592000)});console.log(cookies.get('authtoken'));}},{key:\"sendOTP\",value:function sendOTP(){var _this2=this;var recaptcha=new firebase.auth.RecaptchaVerifier('recaptcha');var number='+6285695900268';firebase.auth().signInWithPhoneNumber(number,recaptcha).then(function(e){var code=prompt('enter the OTP','');if(code==null)return;e.confirm(code).then(function(result){_this2.storeToken(result.user.refreshToken);}).catch(function(error){alert(error);});});}},{key:\"changeMessage\",value:function changeMessage(){this.setState({message:'Thank you for subscribing'});}},{key:\"componentDidMount\",value:function componentDidMount(){var cookies=new Cookies();var currentCookie=cookies.get('authtoken');if(currentCookie===undefined)this.sendOTP();else console.log(cookies.get('authtoken'));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"recaptcha\",className:styles.recaptcha}));}}]);return Message;}(Component);export default Message;","map":{"version":3,"sources":["E:/Project/WebProgramming/Face-_-Auth/src/components/Message.js"],"names":["React","Component","firebase","Cookies","styles","Message","state","message","token","cookies","set","path","expires","Date","now","console","log","get","recaptcha","auth","RecaptchaVerifier","number","signInWithPhoneNumber","then","e","code","prompt","confirm","result","storeToken","user","refreshToken","catch","error","alert","setState","currentCookie","undefined","sendOTP"],"mappings":"goBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,kBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,C,GACMC,CAAAA,O,kGAGF,kBAAa,yCACT,wBACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,iBADA,CAAb,CAFS,aAKZ,C,kEAEUC,K,CAAM,CACb,GAAMC,CAAAA,OAAO,CAAG,GAAIN,CAAAA,OAAJ,EAAhB,CACAM,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBF,KAAzB,CAAgC,CAACG,IAAI,CAAE,GAAP,CAAYC,OAAO,CAAE,GAAIC,CAAAA,IAAJ,CAASA,IAAI,CAACC,GAAL,GAAW,OAApB,CAArB,CAAhC,EACAC,OAAO,CAACC,GAAR,CAAYP,OAAO,CAACQ,GAAR,CAAY,WAAZ,CAAZ,EACH,C,yCAEQ,iBACL,GAAIC,CAAAA,SAAS,CAAG,GAAIhB,CAAAA,QAAQ,CAACiB,IAAT,CAAcC,iBAAlB,CAAoC,WAApC,CAAhB,CACA,GAAIC,CAAAA,MAAM,CAAG,gBAAb,CAEAnB,QAAQ,CAACiB,IAAT,GAAgBG,qBAAhB,CAAsCD,MAAtC,CAA8CH,SAA9C,EAAyDK,IAAzD,CAA8D,SAACC,CAAD,CAAO,CAEjE,GAAIC,CAAAA,IAAI,CAAGC,MAAM,CAAC,eAAD,CAAkB,EAAlB,CAAjB,CAEA,GAAGD,IAAI,EAAI,IAAX,CAAiB,OACjBD,CAAC,CAACG,OAAF,CAAUF,IAAV,EAAgBF,IAAhB,CAAqB,SAACK,MAAD,CAAY,CAC7B,MAAI,CAACC,UAAL,CAAgBD,MAAM,CAACE,IAAP,CAAYC,YAA5B,EACH,CAFD,EAEGC,KAFH,CAES,SAACC,KAAD,CAAS,CACdC,KAAK,CAACD,KAAD,CAAL,CACH,CAJD,EAKH,CAVD,EAWH,C,qDAEc,CACX,KAAKE,QAAL,CAAc,CACV5B,OAAO,CAAE,2BADC,CAAd,EAGH,C,6DAEkB,CACf,GAAME,CAAAA,OAAO,CAAG,GAAIN,CAAAA,OAAJ,EAAhB,CACA,GAAMiC,CAAAA,aAAa,CAAG3B,OAAO,CAACQ,GAAR,CAAY,WAAZ,CAAtB,CAEA,GAAGmB,aAAa,GAAKC,SAArB,CACI,KAAKC,OAAL,GADJ,IAGIvB,CAAAA,OAAO,CAACC,GAAR,CAAYP,OAAO,CAACQ,GAAR,CAAY,WAAZ,CAAZ,EACP,C,uCAEO,CACJ,mBACI,4CACI,2BAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAEb,MAAM,CAACc,SAAtC,EADJ,CADJ,CAMH,C,qBAxDiBjB,S,EA2DtB,cAAeI,CAAAA,OAAf","sourcesContent":["import React, {Component} from 'react'\r\nimport firebase from '../firebase.js'\r\nimport Cookies from 'universal-cookie'\r\nimport styles from '../styles/recaptcha.module.css'\r\nclass Message extends Component{\r\n    \r\n    \r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            message: 'Welcome Visitor'\r\n        }\r\n    }\r\n    \r\n    storeToken(token){\r\n        const cookies = new Cookies();\r\n        cookies.set('authtoken', token, {path: '/', expires: new Date(Date.now()+2592000)})\r\n        console.log(cookies.get('authtoken'))\r\n    }\r\n\r\n    sendOTP(){\r\n        let recaptcha = new firebase.auth.RecaptchaVerifier('recaptcha')\r\n        let number = '+6285695900268'\r\n\r\n        firebase.auth().signInWithPhoneNumber(number, recaptcha).then((e) => {\r\n\r\n            let code = prompt('enter the OTP', '')\r\n\r\n            if(code == null) return\r\n            e.confirm(code).then((result) => {\r\n                this.storeToken(result.user.refreshToken)\r\n            }).catch((error)=>{\r\n                alert(error)\r\n            })\r\n        })\r\n    }\r\n\r\n    changeMessage(){\r\n        this.setState({\r\n            message: 'Thank you for subscribing'\r\n        })\r\n    }\r\n\r\n    componentDidMount(){\r\n        const cookies = new Cookies()\r\n        const currentCookie = cookies.get('authtoken')\r\n\r\n        if(currentCookie === undefined)\r\n            this.sendOTP()\r\n        else\r\n            console.log(cookies.get('authtoken'))\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <div id=\"recaptcha\" className={styles.recaptcha}></div>\r\n                {/* <h1>{this.state.message}</h1> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Message"]},"metadata":{},"sourceType":"module"}