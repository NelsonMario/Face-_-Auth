{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\src\\\\components\\\\Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport * as ReactBootStrap from 'react-bootstrap';\nimport styles from '../styles/modal.module.css';\nimport Message from './Message.js';\nimport OTP from './OTP.js';\n\nconst onResponseBack = socket => {\n  socket.on('response_back', function (image) {\n    const image_id = document.getElementById('image');\n    image_id.src = image;\n  });\n};\n\nconst onResponseUser = socket => {\n  socket.on('response_user', function (response_user) {\n    const user = document.getElementById('user');\n    user.innerHTML = response_user;\n  });\n};\n\nconst scriptLoaded = (socket, video) => {\n  const FPS = 22;\n  const X = 0,\n        Y = 0;\n  const TIME = 10000;\n  var canvas = document.getElementById('canvasOutput');\n  var context = canvas.getContext('2d');\n  canvas.width = 500;\n  canvas.height = 500;\n  setInterval(() => {\n    context.drawImage(video, X, Y);\n    var type = \"image/png\";\n    var data = document.getElementById(\"canvasOutput\").toDataURL(type);\n    data = data.replace('data:' + type + ';base64,', '');\n    socket.emit('image', data);\n  }, TIME / FPS);\n  onResponseBack(socket);\n  onResponseUser(socket);\n};\n\nconst mountScript = (socket, video) => {\n  const script = document.createElement(\"script\");\n  script.src = process.env.PUBLIC_URL + '/opencv.js';\n  script.async = true;\n\n  script.onload = () => scriptLoaded(socket, video);\n\n  document.body.appendChild(script);\n};\n\nfunction Login() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  });\n}\n\nexport default Login;","map":{"version":3,"sources":["E:/Project/WebProgramming/Face-_-Auth/src/components/Login.js"],"names":["React","useState","useEffect","Axios","ReactBootStrap","styles","Message","OTP","onResponseBack","socket","on","image","image_id","document","getElementById","src","onResponseUser","response_user","user","innerHTML","scriptLoaded","video","FPS","X","Y","TIME","canvas","context","getContext","width","height","setInterval","drawImage","type","data","toDataURL","replace","emit","mountScript","script","createElement","process","env","PUBLIC_URL","async","onload","body","appendChild","Login"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,cAAZ,MAAgC,iBAAhC;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,GAAP,MAAgB,UAAhB;;AAEA,MAAMC,cAAc,GAAIC,MAAD,IAAY;AAC/BA,EAAAA,MAAM,CAACC,EAAP,CAAU,eAAV,EAA2B,UAASC,KAAT,EAAe;AACtC,UAAMC,QAAQ,GAAGC,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAjB;AACAF,IAAAA,QAAQ,CAACG,GAAT,GAAeJ,KAAf;AACH,GAHD;AAIH,CALD;;AAOA,MAAMK,cAAc,GAAIP,MAAD,IAAY;AAC/BA,EAAAA,MAAM,CAACC,EAAP,CAAU,eAAV,EAA2B,UAASO,aAAT,EAAuB;AAC9C,UAAMC,IAAI,GAAGL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;AACAI,IAAAA,IAAI,CAACC,SAAL,GAAiBF,aAAjB;AACH,GAHD;AAIH,CALD;;AAOA,MAAMG,YAAY,GAAG,CAACX,MAAD,EAASY,KAAT,KAAmB;AAEpC,QAAMC,GAAG,GAAG,EAAZ;AACA,QAAMC,CAAC,GAAG,CAAV;AAAA,QAAaC,CAAC,GAAG,CAAjB;AACA,QAAMC,IAAI,GAAG,KAAb;AAEA,MAAIC,MAAM,GAAGb,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAb;AACA,MAAIa,OAAO,GAAGD,MAAM,CAACE,UAAP,CAAkB,IAAlB,CAAd;AAEAF,EAAAA,MAAM,CAACG,KAAP,GAAe,GAAf;AACAH,EAAAA,MAAM,CAACI,MAAP,GAAgB,GAAhB;AAEAC,EAAAA,WAAW,CAAC,MAAM;AACdJ,IAAAA,OAAO,CAACK,SAAR,CAAkBX,KAAlB,EAAyBE,CAAzB,EAA4BC,CAA5B;AAEA,QAAIS,IAAI,GAAG,WAAX;AACA,QAAIC,IAAI,GAAGrB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCqB,SAAxC,CAAkDF,IAAlD,CAAX;AACAC,IAAAA,IAAI,GAAGA,IAAI,CAACE,OAAL,CAAa,UAAUH,IAAV,GAAiB,UAA9B,EAA0C,EAA1C,CAAP;AACAxB,IAAAA,MAAM,CAAC4B,IAAP,CAAY,OAAZ,EAAqBH,IAArB;AACH,GAPU,EAORT,IAAI,GAACH,GAPG,CAAX;AASAd,EAAAA,cAAc,CAACC,MAAD,CAAd;AACAO,EAAAA,cAAc,CAACP,MAAD,CAAd;AAGH,CAzBD;;AA2BA,MAAM6B,WAAW,GAAG,CAAC7B,MAAD,EAASY,KAAT,KAAmB;AACnC,QAAMkB,MAAM,GAAG1B,QAAQ,CAAC2B,aAAT,CAAuB,QAAvB,CAAf;AACAD,EAAAA,MAAM,CAACxB,GAAP,GAAa0B,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,YAAtC;AACAJ,EAAAA,MAAM,CAACK,KAAP,GAAe,IAAf;;AACAL,EAAAA,MAAM,CAACM,MAAP,GAAgB,MAAMzB,YAAY,CAACX,MAAD,EAASY,KAAT,CAAlC;;AAEAR,EAAAA,QAAQ,CAACiC,IAAT,CAAcC,WAAd,CAA0BR,MAA1B;AACH,CAPD;;AASA,SAASS,KAAT,GAAgB;AAGZ,sBACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAyCH;;AAED,eAAeA,KAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport * as ReactBootStrap from 'react-bootstrap'\r\nimport styles from '../styles/modal.module.css'\r\nimport Message from './Message.js'\r\nimport OTP from './OTP.js'\r\n\r\nconst onResponseBack = (socket) => {\r\n    socket.on('response_back', function(image){\r\n        const image_id = document.getElementById('image');\r\n        image_id.src = image;\r\n    });\r\n}\r\n\r\nconst onResponseUser = (socket) => {\r\n    socket.on('response_user', function(response_user){\r\n        const user = document.getElementById('user')\r\n        user.innerHTML = response_user\r\n    })\r\n}\r\n\r\nconst scriptLoaded = (socket, video) => {\r\n\r\n    const FPS = 22\r\n    const X = 0, Y = 0\r\n    const TIME = 10000\r\n\r\n    var canvas = document.getElementById('canvasOutput')\r\n    var context = canvas.getContext('2d')\r\n\r\n    canvas.width = 500\r\n    canvas.height = 500\r\n\r\n    setInterval(() => {\r\n        context.drawImage(video, X, Y)\r\n        \r\n        var type = \"image/png\"\r\n        var data = document.getElementById(\"canvasOutput\").toDataURL(type);\r\n        data = data.replace('data:' + type + ';base64,', '');\r\n        socket.emit('image', data);\r\n    }, TIME/FPS);\r\n    \r\n    onResponseBack(socket)\r\n    onResponseUser(socket)\r\n\r\n    \r\n}\r\n\r\nconst mountScript = (socket, video) => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = process.env.PUBLIC_URL + '/opencv.js'\r\n    script.async = true;\r\n    script.onload = () => scriptLoaded(socket, video);\r\n\r\n    document.body.appendChild(script);\r\n}\r\n\r\nfunction Login(){\r\n\r\n    \r\n    return (\r\n        <div className=\"App\">\r\n            {/* <>\r\n                <ReactBootStrap.Button variant=\"primary\" onClick={handleShow}>\r\n                Login\r\n                </ReactBootStrap.Button>\r\n\r\n                <ReactBootStrap.Modal\r\n                    show={show}\r\n                    onHide={handleClose}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    centered\r\n                >\r\n                <ReactBootStrap.Modal.Header className={styles.modal}>\r\n                    <ReactBootStrap.Modal.Title>Recognize your face</ReactBootStrap.Modal.Title>\r\n                </ReactBootStrap.Modal.Header>\r\n                <ReactBootStrap.Modal.Body className={styles.modal}>\r\n                    <div>\r\n                        {\r\n                            loading ? 'Completed' : 'See your webcam' \r\n                        }\r\n                    \r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            loading ? <OTP name = {initialData}/> : \r\n                            <ReactBootStrap.Spinner animation=\"grow\" />\r\n                        }\r\n                    </div>\r\n                    \r\n                </ReactBootStrap.Modal.Body>\r\n                <ReactBootStrap.Modal.Footer>\r\n                    <ReactBootStrap.Button variant=\"secondary\" onClick={handleClose}>\r\n                    Close\r\n                    </ReactBootStrap.Button>\r\n                </ReactBootStrap.Modal.Footer>\r\n                </ReactBootStrap.Modal>\r\n            </> */}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}