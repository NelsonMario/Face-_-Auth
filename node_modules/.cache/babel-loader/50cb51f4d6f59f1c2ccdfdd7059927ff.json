{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\Project\\\\WebProgramming\\\\Face-_-Auth\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Axios from'axios';import*as ReactBootStrap from'react-bootstrap';import styles from'../styles/modal.module.css';import Message from'./Message.js';import OTP from'./OTP.js';function Login(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),initialData=_useState2[0],setinitialData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var dataFunction=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Axios.get(\"video_feed\").then(function(res){console.log(res);setinitialData(res.data.username);});case 3:data=_context.sent;setLoading(true);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function dataFunction(){return _ref.apply(this,arguments);};}();var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){dataFunction();setShow(true);};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ReactBootStrap.Button,{variant:\"primary\",onClick:handleShow},\"Login\"),/*#__PURE__*/React.createElement(ReactBootStrap.Modal,{show:show,onHide:handleClose,backdrop:\"static\",keyboard:false,centered:true},/*#__PURE__*/React.createElement(ReactBootStrap.Modal.Header,{className:styles.modal},/*#__PURE__*/React.createElement(ReactBootStrap.Modal.Title,null,\"Recognize your face\")),/*#__PURE__*/React.createElement(ReactBootStrap.Modal.Body,{className:styles.modal},/*#__PURE__*/React.createElement(\"div\",null,loading?'Completed':'See your webcam'),/*#__PURE__*/React.createElement(\"div\",null,loading?/*#__PURE__*/React.createElement(OTP,{name:initialData}):/*#__PURE__*/React.createElement(ReactBootStrap.Spinner,{animation:\"grow\"}))),/*#__PURE__*/React.createElement(ReactBootStrap.Modal.Footer,null,/*#__PURE__*/React.createElement(ReactBootStrap.Button,{variant:\"secondary\",onClick:handleClose},\"Close\")))));}export default Login;","map":{"version":3,"sources":["E:/Project/WebProgramming/Face-_-Auth/src/components/Login.js"],"names":["React","useState","useEffect","Axios","ReactBootStrap","styles","Message","OTP","Login","initialData","setinitialData","loading","setLoading","dataFunction","get","then","res","console","log","data","username","show","setShow","handleClose","handleShow","modal"],"mappings":"yeAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,iBAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,cAApB,CACA,MAAOC,CAAAA,GAAP,KAAgB,UAAhB,CAEA,QAASC,CAAAA,KAAT,EAAgB,eAE0BP,QAAQ,CAAC,IAAD,CAFlC,wCAELQ,WAFK,eAEQC,cAFR,8BAGkBT,QAAQ,CAAC,KAAD,CAH1B,yCAGLU,OAHK,eAGIC,UAHJ,eAMZ,GAAMC,CAAAA,YAAY,0FAAG,kLAEEV,CAAAA,KAAK,CACvBW,GADkB,eAElBC,IAFkB,CAGf,SAAAC,GAAG,CAAI,CACPC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAN,cAAc,CAACM,GAAG,CAACG,IAAJ,CAASC,QAAV,CAAd,CACC,CANc,CAFF,QAEXD,IAFW,eAUjBP,UAAU,CAAC,IAAD,CAAV,CAViB,+EAYjBK,OAAO,CAACC,GAAR,cAZiB,oEAAH,kBAAZL,CAAAA,YAAY,0CAAlB,CANY,eAsBYZ,QAAQ,CAAC,KAAD,CAtBpB,yCAsBLoB,IAtBK,eAsBCC,OAtBD,eAwBZ,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMD,CAAAA,OAAO,CAAC,KAAD,CAAb,EAApB,CACA,GAAME,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrBX,YAAY,GACZS,OAAO,CAAC,IAAD,CAAP,CACH,CAHD,CAIA,mBACI,2BAAK,SAAS,CAAC,KAAf,eACI,qDACI,oBAAC,cAAD,CAAgB,MAAhB,EAAuB,OAAO,CAAC,SAA/B,CAAyC,OAAO,CAAEE,UAAlD,UADJ,cAKI,oBAAC,cAAD,CAAgB,KAAhB,EACI,IAAI,CAAEH,IADV,CAEI,MAAM,CAAEE,WAFZ,CAGI,QAAQ,CAAC,QAHb,CAII,QAAQ,CAAE,KAJd,CAKI,QAAQ,KALZ,eAOA,oBAAC,cAAD,CAAgB,KAAhB,CAAsB,MAAtB,EAA6B,SAAS,CAAElB,MAAM,CAACoB,KAA/C,eACI,oBAAC,cAAD,CAAgB,KAAhB,CAAsB,KAAtB,4BADJ,CAPA,cAUA,oBAAC,cAAD,CAAgB,KAAhB,CAAsB,IAAtB,EAA2B,SAAS,CAAEpB,MAAM,CAACoB,KAA7C,eACI,+BAEQd,OAAO,CAAG,WAAH,CAAiB,iBAFhC,CADJ,cAOI,+BAEQA,OAAO,cAAG,oBAAC,GAAD,EAAK,IAAI,CAAIF,WAAb,EAAH,cACP,oBAAC,cAAD,CAAgB,OAAhB,EAAwB,SAAS,CAAC,MAAlC,EAHR,CAPJ,CAVA,cAyBA,oBAAC,cAAD,CAAgB,KAAhB,CAAsB,MAAtB,mBACI,oBAAC,cAAD,CAAgB,MAAhB,EAAuB,OAAO,CAAC,WAA/B,CAA2C,OAAO,CAAEc,WAApD,UADJ,CAzBA,CALJ,CADJ,CADJ,CAyCH,CAED,cAAef,CAAAA,KAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\nimport * as ReactBootStrap from 'react-bootstrap'\r\nimport styles from '../styles/modal.module.css'\r\nimport Message from './Message.js'\r\nimport OTP from './OTP.js'\r\n\r\nfunction Login(){\r\n\r\n    const [initialData, setinitialData] = useState(null)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n\r\n    const dataFunction = async () => {\r\n        try{\r\n        const data = await Axios\r\n        .get(`video_feed`)\r\n        .then(\r\n            res => {\r\n            console.log(res)\r\n            setinitialData(res.data.username)\r\n            }\r\n        )\r\n        setLoading(true)\r\n        }catch(e){\r\n        console.log(e)\r\n        }\r\n    }\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => {\r\n        dataFunction()\r\n        setShow(true)\r\n    }\r\n    return (\r\n        <div className=\"App\">\r\n            <>\r\n                <ReactBootStrap.Button variant=\"primary\" onClick={handleShow}>\r\n                Login\r\n                </ReactBootStrap.Button>\r\n\r\n                <ReactBootStrap.Modal\r\n                    show={show}\r\n                    onHide={handleClose}\r\n                    backdrop=\"static\"\r\n                    keyboard={false}\r\n                    centered\r\n                >\r\n                <ReactBootStrap.Modal.Header className={styles.modal}>\r\n                    <ReactBootStrap.Modal.Title>Recognize your face</ReactBootStrap.Modal.Title>\r\n                </ReactBootStrap.Modal.Header>\r\n                <ReactBootStrap.Modal.Body className={styles.modal}>\r\n                    <div>\r\n                        {\r\n                            loading ? 'Completed' : 'See your webcam' \r\n                        }\r\n                    \r\n                    </div>\r\n                    <div>\r\n                        {\r\n                            loading ? <OTP name = {initialData}/> : \r\n                            <ReactBootStrap.Spinner animation=\"grow\" />\r\n                        }\r\n                    </div>\r\n                    \r\n                </ReactBootStrap.Modal.Body>\r\n                <ReactBootStrap.Modal.Footer>\r\n                    <ReactBootStrap.Button variant=\"secondary\" onClick={handleClose}>\r\n                    Close\r\n                    </ReactBootStrap.Button>\r\n                </ReactBootStrap.Modal.Footer>\r\n                </ReactBootStrap.Modal>\r\n            </>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login"]},"metadata":{},"sourceType":"module"}